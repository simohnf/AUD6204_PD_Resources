#N canvas 745 259 947 556 10;
#X obj 130 366 *~, f 106;
#X floatatom 763 305 5 0 0 0 - - -;
#X obj 435 204 vradio 13 1 1 4 \$0-waveform_snd \$0-waveform_rec empty
0 -8 0 10 -262144 -1 -1 3;
#X text 449 202 Sine;
#X text 449 215 Sawtooth;
#X text 451 229 Square;
#X text 450 243 Triangle;
#X obj 238 151 vsl 15 60 20 20000 1 1 empty empty f1 0 -9 0 10 -262144
-1 -1 1236 1;
#N canvas 0 23 779 402 waveformChangeLogic 0;
#X obj 50 91 inlet;
#X obj 50 112 sel 0 1 2 3, f 69;
#X text 225 14 0 - sine;
#X text 225 28 1 - saw;
#X text 225 42 2 - square;
#X text 225 57 3 - triangle;
#X text 417 20 This just triggers the required frequency and amplitude
multipliers for each waveform and sends them via send objects;
#X obj 121 229 tabwrite \$0-fratios;
#X obj 237 229 tabwrite \$0-amplitudes;
#N canvas 0 23 450 300 sawLogic 0;
#X msg 108 79 8;
#X obj 108 100 until;
#X obj 108 121 counter_sjf 8, f 19;
#X obj 108 58 t b b, f 19;
#X obj 108 153 t f f;
#X obj 233 142 t f f, f 16;
#X obj 108 174 + 1;
#X obj 233 163 + 1;
#X obj 233 184 t b f;
#X obj 233 225 /;
#X msg 233 205 1;
#X obj 233 248 pack, f 16;
#X obj 108 215 pack, f 5;
#X obj 108 25 inlet;
#X obj 108 236 outlet;
#X obj 233 269 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 3 1 2 2;
#X connect 4 0 6 0;
#X connect 4 1 12 1;
#X connect 5 0 7 0;
#X connect 5 1 11 1;
#X connect 6 0 12 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 8 1 9 1;
#X connect 9 0 11 0;
#X connect 10 0 9 0;
#X connect 11 0 15 0;
#X connect 12 0 14 0;
#X connect 13 0 3 0;
#X restore 139 133 pd sawLogic;
#N canvas 0 23 450 300 sineLogic 0;
#X obj 36 37 inlet;
#X msg 36 90 8;
#X obj 36 111 until;
#X obj 36 132 counter_sjf 8, f 19;
#X obj 36 69 t b b, f 19;
#X obj 36 154 t f f, f 12;
#X obj 36 175 sel 0;
#X msg 36 196 1;
#X msg 66 197 0;
#X obj 161 152 t f f, f 11;
#X obj 161 173 sel 0;
#X msg 161 194 1;
#X msg 191 195 0;
#X obj 36 226 pack, f 12;
#X obj 161 226 pack, f 11;
#X obj 36 247 outlet;
#X obj 161 247 outlet;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 0 9 0;
#X connect 4 0 1 0;
#X connect 4 1 3 2;
#X connect 5 0 6 0;
#X connect 5 1 13 1;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 13 0;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 9 1 14 1;
#X connect 10 0 11 0;
#X connect 10 1 12 0;
#X connect 11 0 14 0;
#X connect 12 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 16 0;
#X restore 50 133 pd sineLogic;
#N canvas 0 23 450 433 sqrLogic 0;
#X msg 108 79 8;
#X obj 108 100 until;
#X obj 108 121 counter_sjf 8, f 19;
#X obj 108 58 t b b, f 19;
#X obj 108 210 t f f;
#X obj 233 199 t f f, f 16;
#X obj 233 241 t b f;
#X obj 233 282 /;
#X msg 233 262 1;
#X obj 233 305 pack, f 16;
#X obj 108 314 pack, f 5;
#X obj 108 25 inlet;
#X obj 108 335 outlet;
#X obj 233 326 outlet;
#X text 233 9 square wave is only odds;
#X text 233 23 (any number * 2) + 1 is odd;
#X obj 108 252 * 2;
#X obj 108 273 + 1;
#X obj 285 259 * 2;
#X obj 285 280 + 1;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 3 1 2 2;
#X connect 4 0 16 0;
#X connect 4 1 10 1;
#X connect 5 0 6 0;
#X connect 5 1 9 1;
#X connect 6 0 8 0;
#X connect 6 1 18 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 13 0;
#X connect 10 0 12 0;
#X connect 11 0 3 0;
#X connect 16 0 17 0;
#X connect 17 0 10 0;
#X connect 18 0 19 0;
#X connect 19 0 7 1;
#X restore 218 133 pd sqrLogic;
#N canvas 0 23 598 433 triLogic 0;
#X msg 108 79 8;
#X obj 108 100 until;
#X obj 108 121 counter_sjf 8, f 19;
#X obj 108 58 t b b, f 19;
#X obj 108 210 t f f;
#X obj 233 199 t f f, f 16;
#X obj 233 241 t b f;
#X obj 233 328 /;
#X msg 233 262 1;
#X obj 233 351 pack, f 16;
#X obj 108 314 pack, f 5;
#X obj 108 25 inlet;
#X obj 108 335 outlet;
#X obj 233 372 outlet;
#X text 233 23 (any number * 2) + 1 is odd;
#X obj 108 252 * 2;
#X obj 108 273 + 1;
#X obj 285 259 * 2;
#X obj 285 280 + 1;
#X obj 285 301 t f f;
#X obj 285 322 *;
#X text 233 9 tri wave is only odds;
#X text 236 46 also we need the amplitude divide to be the square of
the frequency ratio;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 3 1 2 2;
#X connect 4 0 15 0;
#X connect 4 1 10 1;
#X connect 5 0 6 0;
#X connect 5 1 9 1;
#X connect 6 0 8 0;
#X connect 6 1 17 0;
#X connect 7 0 9 0;
#X connect 8 0 7 0;
#X connect 9 0 13 0;
#X connect 10 0 12 0;
#X connect 11 0 3 0;
#X connect 15 0 16 0;
#X connect 16 0 10 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 19 1 20 1;
#X connect 20 0 7 1;
#X restore 296 133 pd triLogic;
#X connect 0 0 1 0;
#X connect 1 0 10 0;
#X connect 1 1 9 0;
#X connect 1 2 11 0;
#X connect 1 3 12 0;
#X connect 9 0 7 0;
#X connect 9 1 8 0;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 11 0 7 0;
#X connect 11 1 8 0;
#X connect 12 0 7 0;
#X connect 12 1 8 0;
#X restore 692 424 pd waveformChangeLogic;
#X obj 130 301 *~, f 21;
#X text 38 279 click me ---->;
#X obj 238 45 inlet;
#X obj 376 97 inlet;
#X text 233 20 MIDI Pitch;
#X text 365 69 MIDI Velocity;
#X obj 238 91 t f;
#X obj 238 112 mtof;
#X obj 130 409 outlet~;
#X floatatom 259 218 5 0 0 0 - - -;
#X text 10 114 convert MIDI pitch to frequency --->;
#X obj 677 87 inlet;
#X obj 770 86 inlet;
#X obj 458 97 inlet;
#X text 459 69 attack;
#X obj 502 97 inlet;
#X obj 549 97 inlet;
#X obj 596 97 inlet;
#X text 503 69 decay;
#X text 544 69 sustain;
#X text 597 69 release;
#X text 664 54 waveform type;
#X text 668 69 (0 --> 3);
#X text 369 459 REMEMBER! When creating abstractions you should use
"\$0-"/"\$1-" in the names of any send/receive/arrays so you don't
get any unwanted communication between different instances of the same
abstraction;
#X obj 434 147 adsr_sjf~;
#X text 764 481 sjf \, SAE London \, 2020;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-fratios 8 float 3;
#A 0 1 3 5 7 9 11 13 15;
#X coords 0 15 8 1 200 70 1 0 0;
#X restore 606 147 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-amplitudes 8 float 3;
#A 0 1 0.111111 0.04 0.0204082 0.0123457 0.00826446 0.00591716 0.00444444
;
#X coords 0 1 8 0 200 28 1 0 0;
#X restore 606 231 graph;
#N canvas -1280 581 1206 424 8oscAddSynth 1;
#X obj 47 17 inlet;
#X floatatom 47 43 5 0 0 0 - - -;
#X text 81 42 Frequency;
#X obj 47 356 outlet~, f 9;
#X obj 47 93 AddSyn1_voice_sjf~ \$0 0;
#X obj 186 93 AddSyn1_voice_sjf~ \$0 1;
#X obj 324 93 AddSyn1_voice_sjf~ \$0 2;
#X obj 465 93 AddSyn1_voice_sjf~ \$0 3;
#X obj 606 93 AddSyn1_voice_sjf~ \$0 4;
#X obj 745 93 AddSyn1_voice_sjf~ \$0 5;
#X obj 883 93 AddSyn1_voice_sjf~ \$0 6;
#X obj 1024 93 AddSyn1_voice_sjf~ \$0 7;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 1 0 7 0;
#X connect 1 0 8 0;
#X connect 1 0 9 0;
#X connect 1 0 10 0;
#X connect 1 0 11 0;
#X connect 4 0 3 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 3 0;
#X connect 11 0 3 0;
#X restore 130 280 pd 8oscAddSynth;
#X obj 512 213 hsl 90 15 1 1000 1 0 \$0-slide_snd \$0-slide_rec pitch_slide
-2 -8 0 10 -262144 -1 -1 6400 1;
#X obj 512 244 hsl 90 15 0 1 0 1 \$0-vol_snd \$0-vol_rec volume -2
-8 0 10 -262144 -1 -1 1900 1;
#X obj 763 285 r \$0-vol_snd;
#X obj 688 399 r \$0-waveform_snd;
#X obj 651 108 s \$0-waveform_rec;
#X msg 763 325 \$1 50;
#X obj 763 346 line~;
#X obj 863 85 inlet;
#X text 861 53 volume;
#X text 850 68 (0 --> 127);
#X obj 863 106 s \$0-vol_rec;
#X obj 770 107 s \$0-slide_rec;
#X text 768 54 slide;
#X text 757 69 (1 --> 1000);
#X connect 0 0 17 0;
#X connect 1 0 43 0;
#X connect 7 0 37 0;
#X connect 7 0 18 0;
#X connect 9 0 0 0;
#X connect 11 0 15 0;
#X connect 12 0 33 0;
#X connect 15 0 16 0;
#X connect 16 0 7 0;
#X connect 20 0 42 0;
#X connect 21 0 49 0;
#X connect 22 0 33 1;
#X connect 24 0 33 2;
#X connect 25 0 33 3;
#X connect 26 0 33 4;
#X connect 33 0 9 1;
#X connect 37 0 9 0;
#X connect 40 0 1 0;
#X connect 41 0 8 0;
#X connect 43 0 44 0;
#X connect 44 0 0 1;
#X connect 45 0 48 0;
#X coords 0 -1 1 1 380 130 1 430 132;
