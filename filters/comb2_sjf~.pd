#N canvas 0 -1895 986 870 12;
#X obj 85 188 inlet~;
#X text 70 143 signal in;
#X obj 85 711 outlet~;
#X text 85 746 signal out;
#X obj 325 188 inlet~;
#X text 326 162 delay time;
#X obj 420 188 inlet~;
#X text 421 163 feedforward;
#X obj 532 188 inlet~;
#X text 533 165 feedback;
#X obj 620 188 inlet~;
#X text 621 167 Blend;
#X obj 378 2 loadbang;
#X text 802 813 sjf \, SAE London \, 2023;
#X text 550 687 This is copied from \; ZÃ¶lzer \, U. \, Amatriain \, X. \, Arfib \, D. \, Bonada \, J. \, De Poli \, G. \, Dutilleux \, P. \, Evangelista \, G. \, Keiler \, F. \, Loscos \, A. \, Rocchesso \, D. and Sandler \, M. \, 2002 DAFX-Digital audio effects. John Wiley & Sons. \; p66 The Universal Comb Filter \; This version has an added lowpass filter in the feedback loop;
#X obj 707 188 inlet~;
#X text 699 149 damping;
#X obj 378 69 unpack 0 0 0 0 0;
#X obj 378 26 \$1 \$2 \$3 \$4 \$5;
#X obj 127 575 delwrite~ \$0-del 500;
#X obj 103 380 vd~ \$0-del;
#X obj 103 504 *~, f 45;
#X obj 85 616 *~, f 47;
#X obj 85 650 +~, f 61;
#X obj 509 457 *~;
#X obj 85 540 +~;
#X obj 884 124 block~ 4;
#X obj 103 446 fexpr~ $x1[0] + $x2[0] * ( $y1[-1] - $x1[0] ), f 19;
#X text 250 445 onepole low pass filter;
#X text 717 76 block size to allow feedback loop;
#X text 33 20 argumets \; \$1 - delay time (ms) \; \$2 - feedforward coefficient (0 --> 1) \; \$3 - feedback coefficient (0 --> 1) \; \$4 - blend coefficient (0 --> 1) \; \$5 - damping (0 --> 1);
#X connect 0 0 25 0;
#X connect 4 0 20 0;
#X connect 6 0 24 1;
#X connect 8 0 21 1;
#X connect 10 0 22 1;
#X connect 12 0 18 0;
#X connect 15 0 27 1;
#X connect 17 0 4 0;
#X connect 17 1 6 0;
#X connect 17 2 8 0;
#X connect 17 3 10 0;
#X connect 17 4 15 0;
#X connect 18 0 17 0;
#X connect 20 0 27 0;
#X connect 20 0 24 0;
#X connect 21 0 25 1;
#X connect 22 0 23 0;
#X connect 23 0 2 0;
#X connect 24 0 23 1;
#X connect 25 0 19 0;
#X connect 25 0 22 0;
#X connect 27 0 21 0;
