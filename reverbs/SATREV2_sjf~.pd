#N canvas 42 25 934 484 12;
#X obj 222 113 inlet~;
#X text 552 173 4 * feedback combfilters;
#X text 293 180 3 * allpass;
#X obj 175 288 outlet~;
#X obj 257 256 *~ -1;
#X obj 257 287 outlet~;
#X text 447 368 https://ccrma.stanford.edu/~jos/pasp/Example_Schroeder_Reverberators.html \; (Delay times in those diagrams are in samples so here I have set the delaytimes in ms );
#X text 447 347 Based on John Chowning's SATREV;
#X obj 21 37 hsl 162 19 0 1 0 0 \$0-size \$0-size size 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 21 56 hsl 162 19 0 1 0 0 \$0-damping \$0-damping damping 10 10 0 12 #fcfcfc #000000 #000000 0 1;
#X obj 560 91 r~ \$0-dampingSig;
#X obj 447 91 r~ \$0-sizeSig;
#N canvas 346 25 450 300 load 0;
#X obj 30 40 bng 19 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 30 88 s \$0-load;
#N canvas 136 -834 780 399 combDelays 0;
#X obj 47 12 inlet;
#X obj 47 356 array set \$0-combDelays;
#X obj 150 139 list split 1;
#X obj 225 199 list;
#X obj 150 163 t b f;
#X text 300 226 convert to ms;
#X obj 47 37 t b b b, f 55;
#X msg 572 265 set;
#X msg 150 268 add2 \$1;
#X msg 47 318 36.04 31.12 40.44 44.92;
#X text 332 75 comb delay times in samples;
#X obj 150 228 expr 1000*$f1/25000;
#X text 300 101 values copied from https://ccrma.stanford.edu/~jos/pasp/Example_Schroeder_Reverberators.html;
#X msg 155 104 901 778 1011 1123;
#X connect 0 0 6 0;
#X connect 2 0 4 0;
#X connect 2 1 3 1;
#X connect 3 0 2 0;
#X connect 4 0 3 0;
#X connect 4 1 11 0;
#X connect 6 0 9 0;
#X connect 6 1 13 0;
#X connect 6 2 7 0;
#X connect 7 0 9 0;
#X connect 8 0 9 0;
#X connect 9 0 1 0;
#X connect 11 0 8 0;
#X connect 13 0 2 0;
#X restore 9 146 pd combDelays;
#N canvas 241 -482 781 399 apDelays 0;
#X obj 47 12 inlet;
#X obj 150 139 list split 1;
#X obj 225 199 list;
#X obj 150 163 t b f;
#X text 287 230 convert to ms;
#X obj 47 37 t b b b, f 55;
#X msg 572 265 set;
#X msg 150 268 add2 \$1;
#X msg 47 318 5 1.68 0.48;
#X text 332 75 allpass delay times in samples;
#X obj 47 356 array set \$0-apDelays;
#X text 300 101 values copied from https://ccrma.stanford.edu/~jos/pasp/Example_Schroeder_Reverberators.html;
#X msg 155 104 125 42 12;
#X obj 150 228 expr 1000*$f1/25000;
#X connect 0 0 5 0;
#X connect 1 0 3 0;
#X connect 1 1 2 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 3 1 13 0;
#X connect 5 0 8 0;
#X connect 5 1 12 0;
#X connect 5 2 6 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 8 0 10 0;
#X connect 12 0 1 0;
#X connect 13 0 7 0;
#X restore 154 129 pd apDelays;
#X obj 29 18 loadbang;
#X obj 30 64 t b b b, f 34;
#X obj 265 87 \$0;
#X obj 114 203 array define \$0-combDelays 4;
#X obj 115 229 array define \$0-apDelays 3;
#X msg 265 111 \; \$1-size 0.5 \; \$1-damping 0.5 \; \$1-dsp 0;
#X connect 0 0 5 0;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 5 1 2 0;
#X connect 5 1 3 0;
#X connect 5 2 6 0;
#X connect 6 0 9 0;
#X restore 486 33 pd load;
#N canvas 411 436 450 300 parameters 0;
#X floatatom 61 46 5 0 0 0 - - - 0;
#X obj 61 166 pack 0 5;
#X obj 61 190 line~;
#X obj 61 22 r \$0-size;
#X obj 61 214 s~ \$0-sizeSig;
#X floatatom 180 46 5 0 0 0 - - - 0;
#X obj 180 173 pack 0 5;
#X obj 180 197 line~;
#X obj 180 22 r \$0-damping;
#X obj 180 221 s~ \$0-dampingSig;
#X obj 61 69 min 1;
#X obj 180 69 min 1;
#X obj 180 93 max 0;
#X obj 61 93 max 0;
#X obj 61 117 * 9.5;
#X obj 61 141 + 0.5;
#X obj 180 117 * 0.6;
#X obj 180 141 + 0.3;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 3 0 0 0;
#X connect 5 0 11 0;
#X connect 6 0 7 0;
#X connect 7 0 9 0;
#X connect 8 0 5 0;
#X connect 10 0 13 0;
#X connect 11 0 12 0;
#X connect 12 0 16 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 1 0;
#X connect 16 0 17 0;
#X connect 17 0 6 0;
#X restore 486 57 pd parameters;
#N canvas 353 378 342 455 3*ap 0;
#X obj 37 37 inlet~;
#X obj 37 119 ../filters/allpass_sjf~ 13.88 0.7;
#X obj 37 230 ../filters/allpass_sjf~ 4.52 0.7;
#X obj 37 345 ../filters/allpass_sjf~ 1.48 0.7;
#X obj 37 369 outlet~;
#X obj 120 17 r \$0-load;
#X obj 120 41 0;
#X obj 120 65 tabread \$0-apDelays;
#X obj 108 147 r \$0-load;
#X obj 108 195 tabread \$0-apDelays;
#X obj 108 171 1;
#X obj 110 256 r \$0-load;
#X obj 110 304 tabread \$0-apDelays;
#X obj 110 280 2;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 1 1;
#X connect 8 0 10 0;
#X connect 9 0 2 1;
#X connect 10 0 9 0;
#X connect 11 0 13 0;
#X connect 12 0 3 1;
#X connect 13 0 12 0;
#X restore 224 175 pd 3*ap;
#X obj 222 143 clone RevComb_sjf~ 4 \$0;
#X obj 610 20 r \$0-dsp;
#X obj 610 53 switch~;
#X obj 187 56 tgl 19 0 \$0-dsp \$0-dsp on 2 10 0 10 #fcfcfc #000000 #000000 0 1;
#X connect 0 0 15 0;
#X connect 4 0 5 0;
#X connect 10 0 15 2;
#X connect 11 0 15 1;
#X connect 14 0 3 0;
#X connect 14 0 4 0;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X coords 0 -1 1 1 200 70 1 10 10;
